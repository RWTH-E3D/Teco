<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>teaser.data.output.buildingelement_output API documentation</title>
<meta name="description" content="This module contains function to save building element classes." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>teaser.data.output.buildingelement_output</code></h1>
</header>
<section id="section-intro">
<p>This module contains function to save building element classes.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;This module contains function to save building element classes.&#34;&#34;&#34;

import teaser.logic.utilities as utilities
import warnings
import collections
import json


def save_type_element(element, data_class):
    &#34;&#34;&#34;Save information about building element to json.

    Saves typical building elements according to their construction
    year and their construction type in the json file for type building
    elements. If the Project parent is set, it automatically saves it to
    the file given in Project.data. Alternatively you can specify a path to
    a file of TypeBuildingElements. If this file does not exist,
    a new file is created.

    Parameters
    ----------
    element : BuildingElement()
        Instance of BuildingElement or inherited Element of TEASER

    data_class : DataClass()
        DataClass containing the bindings for TypeBuildingElement and
        Material (typically this is the data class stored in prj.data,
        but the user can individually change that.

    &#34;&#34;&#34;
    data_class.element_bind[&#34;version&#34;] = &#34;0.7&#34;
    add_to_json = True

    warning_text = (
        &#34;Construction Type and building age &#34;
        &#34;group already exist in this json, consider revising &#34;
        &#34;your inputs. The Element is NOT saved into json&#34;
    )

    check_str = &#34;{}_{}_{}&#34;.format(
        type(element).__name__, element.building_age_group, element.construction_type
    )

    if check_str in data_class.element_bind.keys():
        warnings.warn(warning_text)
        add_to_json = False
        return

    if add_to_json is True:
        data_class.element_bind[check_str] = collections.OrderedDict()

        _set_basic_data_json(
            element=element, wall_out=data_class.element_bind[check_str]
        )

        _set_layer_data_json(
            element=element, wall_out=data_class.element_bind[check_str]
        )

    with open(utilities.get_full_path(data_class.path_tb), &#34;w&#34;) as file:
        file.write(
            json.dumps(data_class.element_bind, indent=4, separators=(&#34;,&#34;, &#34;: &#34;))
        )


def delete_type_element(element, data_class):
    &#34;&#34;&#34;Delete typical element in json.

    Deletes typical building elements according to their construction
    year and their construction type in the the json file for type building
    elements. If the Project parent is set, it automatically saves it to
    the file given in Project.data. Alternatively you can specify a path to
    a file of TypeBuildingElements. If this file does not exist,
    a new file is created.
    Parameters
    ----------
    element : BuildingElement()
        Instance of BuildingElement or inherited Element of TEASER
    data_class : DataClass()
        DataClass containing the bindings for TypeBuildingElement and
        Material (typically this is the data class stored in prj.data,
        but the user can individually change that.

    &#34;&#34;&#34;
    check_str = &#34;{}_{}_{}&#34;.format(
        type(element).__name__, element.building_age_group, element.construction_type
    )

    del data_class.element_bind[check_str]

    with open(utilities.get_full_path(data_class.path_tb), &#34;w&#34;) as file:
        file.write(
            json.dumps(data_class.element_bind, indent=4, separators=(&#34;,&#34;, &#34;: &#34;))
        )


def _set_basic_data_json(element, wall_out):
    &#34;&#34;&#34;Set basic data of building element.

    Helper function.

    Parameters
    ----------
    element : BuildingElement()
        Instance of BuildingElement or inherited Element of TEASER
    wall_out: dictionary
        Dictionary with information about walls.

    &#34;&#34;&#34;
    wall_out[&#34;building_age_group&#34;] = element.building_age_group
    wall_out[&#34;construction_type&#34;] = element.construction_type
    wall_out[&#34;inner_radiation&#34;] = element.inner_radiation
    wall_out[&#34;inner_convection&#34;] = element.inner_convection
    wall_out[&#34;lca_data&#34;] = element.lca_data.lca_data_id
    wall_out[&#34;service_life&#34;] = element.service_life

    if type(element).__name__ == &#34;Window&#34;:

        wall_out[&#34;outer_radiation&#34;] = element.outer_radiation
        wall_out[&#34;outer_convection&#34;] = element.outer_convection
        wall_out[&#34;g_value&#34;] = element.g_value
        wall_out[&#34;a_conv&#34;] = element.a_conv
        wall_out[&#34;shading_g_total&#34;] = element.shading_g_total
        wall_out[&#34;shading_max_irr&#34;] = element.shading_max_irr

    elif (
        type(element).__name__ == &#34;OuterWall&#34;
        or type(element).__name__ == &#34;Rooftop&#34;
        or type(element).__name__ == &#34;Door&#34;
    ):

        wall_out[&#34;outer_radiation&#34;] = element.outer_radiation
        wall_out[&#34;outer_convection&#34;] = element.outer_convection


def _set_layer_data_json(element, wall_out):
    &#34;&#34;&#34;Set layer data of building element.

    Helper function.

    Parameters
    ----------
    element : BuildingElement()
        Instance of BuildingElement or inherited Element of TEASER
    wall_out: dictionary
        Dictionary with information about walls.

    &#34;&#34;&#34;
    layer_dict = collections.OrderedDict()
    for layer in element.layer:

        layer_dict[layer.id] = collections.OrderedDict()
        layer_dict[layer.id][&#34;thickness&#34;] = layer.thickness
        layer_dict[layer.id][&#34;material&#34;] = collections.OrderedDict()
        layer_dict[layer.id][&#34;material&#34;][&#34;name&#34;] = layer.material.name
        layer_dict[layer.id][&#34;material&#34;][&#34;material_id&#34;] = layer.material.material_id

    wall_out[&#34;layer&#34;] = layer_dict</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="teaser.data.output.buildingelement_output.delete_type_element"><code class="name flex">
<span>def <span class="ident">delete_type_element</span></span>(<span>element, data_class)</span>
</code></dt>
<dd>
<div class="desc"><p>Delete typical element in json.</p>
<p>Deletes typical building elements according to their construction
year and their construction type in the the json file for type building
elements. If the Project parent is set, it automatically saves it to
the file given in Project.data. Alternatively you can specify a path to
a file of TypeBuildingElements. If this file does not exist,
a new file is created.
Parameters</p>
<hr>
<dl>
<dt><strong><code>element</code></strong> :&ensp;<code>BuildingElement()</code></dt>
<dd>Instance of BuildingElement or inherited Element of TEASER</dd>
<dt><strong><code>data_class</code></strong> :&ensp;<code>DataClass()</code></dt>
<dd>DataClass containing the bindings for TypeBuildingElement and
Material (typically this is the data class stored in prj.data,
but the user can individually change that.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete_type_element(element, data_class):
    &#34;&#34;&#34;Delete typical element in json.

    Deletes typical building elements according to their construction
    year and their construction type in the the json file for type building
    elements. If the Project parent is set, it automatically saves it to
    the file given in Project.data. Alternatively you can specify a path to
    a file of TypeBuildingElements. If this file does not exist,
    a new file is created.
    Parameters
    ----------
    element : BuildingElement()
        Instance of BuildingElement or inherited Element of TEASER
    data_class : DataClass()
        DataClass containing the bindings for TypeBuildingElement and
        Material (typically this is the data class stored in prj.data,
        but the user can individually change that.

    &#34;&#34;&#34;
    check_str = &#34;{}_{}_{}&#34;.format(
        type(element).__name__, element.building_age_group, element.construction_type
    )

    del data_class.element_bind[check_str]

    with open(utilities.get_full_path(data_class.path_tb), &#34;w&#34;) as file:
        file.write(
            json.dumps(data_class.element_bind, indent=4, separators=(&#34;,&#34;, &#34;: &#34;))
        )</code></pre>
</details>
</dd>
<dt id="teaser.data.output.buildingelement_output.save_type_element"><code class="name flex">
<span>def <span class="ident">save_type_element</span></span>(<span>element, data_class)</span>
</code></dt>
<dd>
<div class="desc"><p>Save information about building element to json.</p>
<p>Saves typical building elements according to their construction
year and their construction type in the json file for type building
elements. If the Project parent is set, it automatically saves it to
the file given in Project.data. Alternatively you can specify a path to
a file of TypeBuildingElements. If this file does not exist,
a new file is created.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>element</code></strong> :&ensp;<code>BuildingElement()</code></dt>
<dd>Instance of BuildingElement or inherited Element of TEASER</dd>
<dt><strong><code>data_class</code></strong> :&ensp;<code>DataClass()</code></dt>
<dd>DataClass containing the bindings for TypeBuildingElement and
Material (typically this is the data class stored in prj.data,
but the user can individually change that.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def save_type_element(element, data_class):
    &#34;&#34;&#34;Save information about building element to json.

    Saves typical building elements according to their construction
    year and their construction type in the json file for type building
    elements. If the Project parent is set, it automatically saves it to
    the file given in Project.data. Alternatively you can specify a path to
    a file of TypeBuildingElements. If this file does not exist,
    a new file is created.

    Parameters
    ----------
    element : BuildingElement()
        Instance of BuildingElement or inherited Element of TEASER

    data_class : DataClass()
        DataClass containing the bindings for TypeBuildingElement and
        Material (typically this is the data class stored in prj.data,
        but the user can individually change that.

    &#34;&#34;&#34;
    data_class.element_bind[&#34;version&#34;] = &#34;0.7&#34;
    add_to_json = True

    warning_text = (
        &#34;Construction Type and building age &#34;
        &#34;group already exist in this json, consider revising &#34;
        &#34;your inputs. The Element is NOT saved into json&#34;
    )

    check_str = &#34;{}_{}_{}&#34;.format(
        type(element).__name__, element.building_age_group, element.construction_type
    )

    if check_str in data_class.element_bind.keys():
        warnings.warn(warning_text)
        add_to_json = False
        return

    if add_to_json is True:
        data_class.element_bind[check_str] = collections.OrderedDict()

        _set_basic_data_json(
            element=element, wall_out=data_class.element_bind[check_str]
        )

        _set_layer_data_json(
            element=element, wall_out=data_class.element_bind[check_str]
        )

    with open(utilities.get_full_path(data_class.path_tb), &#34;w&#34;) as file:
        file.write(
            json.dumps(data_class.element_bind, indent=4, separators=(&#34;,&#34;, &#34;: &#34;))
        )</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="teaser.data.output" href="index.html">teaser.data.output</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="teaser.data.output.buildingelement_output.delete_type_element" href="#teaser.data.output.buildingelement_output.delete_type_element">delete_type_element</a></code></li>
<li><code><a title="teaser.data.output.buildingelement_output.save_type_element" href="#teaser.data.output.buildingelement_output.save_type_element">save_type_element</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>